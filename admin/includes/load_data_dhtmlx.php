<?php
 require_once('../js/dhtmlx/common/connector/scheduler_connector.php'); include ('../js/dhtmlx/common/config.php'); $scheduler = new schedulerConnector($res, $dbtype); print_r($scheduler->get_value("id"));die; $data = array( array("id" => "1", "start_time" => "2013-10-13 00:00:00","end_time"=>"2013-10-14 00:00:00","title"=>"test","content"=>""), array("id" => "2", "start_time" => "2013-10-19 01:40:30", "end_time"=>"2013-10-20 01:40:50","title"=>"test新版本的任务特性","content"=>""), ); $scheduler->render_array($data, "id","start_time,end_time,title,content");die; if ($_GET['action'] == 'select') { $status = $_GET['status']; $type = $_GET['type']; $builder = $_GET['builder']; $performer = $_GET['performer']; $statDate = $_GET['statDate']; $cond = ''; if (!empty($status)) { $cond .= " and status = '".$status."'"; } if (!empty($type)) { $cond .= " and type = '".$type."'"; } if (!empty($builder)) { $cond .= " and builder = '".$builder."'"; } if (!empty($performer)) { $cond .= " and performer = '".$performer."'"; } if (!empty($statDate)) { $cond .= " and create_time between '".strtotime(date('Y-m-01',strtotime($statDate)))."' and '".strtotime(date('Y-m-t',strtotime($statDate)))."'"; } $sql = "select * from task_job where 1=1 ".$cond; $scheduler->render_complex_sql($sql, 'id',"start_time,end_time,title,content" ); } else { $scheduler->render_table("task_job","id","start_time,end_time,title,content"); } 